<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SRISHTI 2.6 - Mobile-First Techno Cultural Fest</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&family=JetBrains+Mono:wght@400;700&display=swap" rel="stylesheet">

    <style>
        /* --- CORE VARIABLES --- */
        :root {
            --bg-color: #0B0B0D;
            --text-primary: #FFFFFF;
            --text-muted: #9CA3AF;
            --accent-start: #6D28D9;
            --accent-end: #9333EA;
            --accent-glow: rgba(109, 40, 217, 0.4);
            --border-color: rgba(255, 255, 255, 0.08);
            --font-primary: 'Inter', sans-serif;
            --font-mono: 'JetBrains Mono', monospace;
            --container-width: 420px;
        }

        * { box-sizing: border-box; margin: 0; padding: 0; -webkit-tap-highlight-color: transparent; }
        
        body {
            background-color: #000;
            color: var(--text-primary);
            font-family: var(--font-primary);
            font-size: 16px;
            display: flex;
            justify-content: center;
            min-height: 100vh;
        }

        /* --- MOBILE CONTAINER --- */
        #app {
            width: 100%;
            max-width: var(--container-width);
            background: var(--bg-color);
            position: relative;
            min-height: 100vh;
            box-shadow: 0 0 30px rgba(109, 40, 217, 0.1);
            overflow: hidden;
            border-left: 1px solid #222;
            border-right: 1px solid #222;
        }

        /* --- GLOBAL UTILS --- */
        h1, h2, h3 { font-weight: 800; letter-spacing: -0.02em; }
        .mono { font-family: var(--font-mono); font-size: 0.85rem; color: var(--text-muted); }
        .gradient-text {
            background: linear-gradient(135deg, #fff 30%, var(--accent-end) 100%);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }
        section { padding: 4rem 1.5rem; border-top: 1px solid var(--border-color); position: relative; z-index: 2; }
        img { display: block; max-width: 100%; object-fit: cover; }

        /* --- NEW HERO SECTION STYLING --- */
        header {
            min-height: 95vh;
            display: flex; flex-direction: column;
            justify-content: center; align-items: center;
            text-align: center;
            position: relative; 
            overflow: hidden;
            padding: 2rem;
            background: #000;
        }

        /* 1. BACKGROUND COLLAGE LAYER */
        .hero-collage {
            position: absolute; inset: 0; z-index: 0;
            display: grid;
            grid-template-columns: 1fr 1fr;
            grid-template-rows: 1fr 1fr 1fr;
            opacity: 0.4;
            filter: grayscale(100%) contrast(1.2);
            mix-blend-mode: luminosity;
        }
        .collage-img { width: 100%; height: 100%; object-fit: cover; opacity: 0.6; }
        
        /* 2. OVERLAYS & GRAIN */
        .hero-overlay {
            position: absolute; inset: 0; z-index: 1;
            /* The "Greyish Overlay" + Vignette */
            background: radial-gradient(circle at center, rgba(11,11,13,0.6) 0%, rgba(0,0,0,1) 90%);
        }
        .hero-grain {
            position: absolute; inset: 0; z-index: 1;
            opacity: 0.15;
            background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");
        }

        /* 3. POLICE TAPE BANNER */
        .police-tape {
            position: absolute;
            top: 45%; left: -50%; width: 200%; height: 40px;
            background: rgba(147, 51, 234, 0.15); /* Faded Purple */
            border-top: 1px solid rgba(255,255,255,0.2);
            border-bottom: 1px solid rgba(255,255,255,0.2);
            z-index: 2;
            transform: rotate(-15deg);
            display: flex; align-items: center;
            overflow: hidden;
            pointer-events: none;
            backdrop-filter: blur(2px);
        }
        .tape-text {
            white-space: nowrap;
            font-family: var(--font-mono);
            font-weight: 700;
            font-size: 1rem;
            color: rgba(255,255,255,0.4);
            letter-spacing: 4px;
            animation: tapeScroll 10s linear infinite;
        }
        @keyframes tapeScroll { 0% { transform: translateX(0); } 100% { transform: translateX(-50%); } }

        /* --- POLICE TAPE VARIATIONS --- */
        .police-tape.reverse .tape-text {
            animation-direction: reverse;
        }

        .police-tape.right-slanted {
            transform: rotate(5deg);
            top: 80%;
        }

        .police-tape.small {
            height: 25px;
            top: 70%;
        }
        .police-tape.small .tape-text {
            font-size: 0.7rem;
        }

        .police-tape.large {
            height: 60px;
            top: 20%;
            transform: rotate(5deg);
        }
        .police-tape.large .tape-text {
            font-size: 1.5rem;
            animation-duration: 15s;
        }

        /* 4. SPARKLES (JS Generated) */
        .sparkle-container {
            position: absolute; inset: 0; z-index: 3; pointer-events: none;
        }
        .sparkle {
            position: absolute;
            background: white;
            border-radius: 50%;
            box-shadow: 0 0 4px 1px rgba(255,255,255,0.8);
            animation: twinkle var(--duration) ease-in-out infinite;
            opacity: 0;
        }
        @keyframes twinkle { 0% { transform: scale(0); opacity: 0; } 50% { transform: scale(1); opacity: 0.8; } 100% { transform: scale(0); opacity: 0; } }

        /* 5. HERO CONTENT (Top Layer) */
        .hero-content { position: relative; z-index: 10; width: 100%; }
        
        .logo-wrap {
            position: relative; width: 100px; height: 100px; margin: 0 auto 2rem;
        }
        .hero-logo {
            width: 100%; height: 100%;
            filter: drop-shadow(0 0 25px var(--accent-glow));
            animation: float 6s ease-in-out infinite;
        }
        @keyframes float { 0%,100%{transform:translateY(0)} 50%{transform:translateY(-10px)} }

        .hero-title {
            font-size: 3.5rem; line-height: 0.9; margin-bottom: 0.5rem;
            text-transform: uppercase; font-family: var(--font-mono);
            position: relative;
            text-shadow: 0 0 30px rgba(147, 51, 234, 0.3);
        }
        .hero-title span {
            display: block; opacity: 0; transform: translateY(20px);
            animation: clipReveal 0.8s cubic-bezier(0.16, 1, 0.3, 1) forwards;
        }
        @keyframes clipReveal { to { opacity: 1; transform: translateY(0); } }

        .hero-subtitle {
            font-size: 1rem; letter-spacing: 0.2em; text-transform: uppercase;
            color: var(--text-muted); margin-bottom: 3rem; font-weight: 700;
        }

        .cta-box {
            background: rgba(255,255,255,0.03);
            border: 1px solid rgba(255,255,255,0.1);
            padding: 1rem; border-radius: 12px;
            backdrop-filter: blur(10px); width: 100%;
            box-shadow: 0 4px 30px rgba(0, 0, 0, 0.1);
        }

        /* --- VACUUM TUBE COUNTDOWN --- */
        #countdown {
            display: flex;
            gap: 10px;
            font-family: 'JetBrains Mono', monospace;
            justify-content: center;
        }

        .segment {
            background: #1A0000; /* Dark red background */
            padding: 5px 10px;
            border-radius: 8px;
            text-align: center;
            border: 1px solid #FF4444;
            box-shadow: 0 0 10px rgba(255, 0, 0, 0.5), inset 0 0 5px rgba(255, 0, 0, 0.3);
            min-width: 60px;
        }

        .digits {
            color: #FF8888;
            font-size: 1.5rem;
            font-weight: 700;
            text-shadow: 0 0 3px #FF0000, 0 0 6px #FF0000, 0 0 10px #FF0000;
            display: block;
        }

        .unit {
            font-size: 0.7rem;
            color: #FF4444;
        }
        .btn-primary {
            background: var(--text-primary); color: #000;
            width: 100%; padding: 1rem; border-radius: 6px;
            font-weight: 800; text-transform: uppercase; text-decoration: none;
            display: block; margin-top: 1rem; transition: transform 0.1s;
        }
        .btn-primary:active { transform: scale(0.98); }

        /* --- REMAINING SECTIONS (Unchanged) --- */
        .event-card {
            background: #111; border-radius: 16px; overflow: hidden;
            border: 1px solid var(--border-color); margin-bottom: 1.5rem;
            transition: transform 0.2s;
        }
        .event-card:active { transform: scale(0.98); }
        .card-img { height: 160px; width: 100%; object-fit: cover; opacity: 0.8; }
        .card-body { padding: 1.25rem; }
        .tag {
            font-size: 0.7rem; font-weight: 700; text-transform: uppercase;
            padding: 4px 8px; border-radius: 4px; background: rgba(255,255,255,0.1);
            color: var(--accent-end); display: inline-block; margin-bottom: 0.5rem;
        }

        .filter-scroller {
            display: flex; gap: 0.8rem; overflow-x: auto; padding-bottom: 1rem;
            margin: 0 -1.5rem 1.5rem; padding-left: 1.5rem; scrollbar-width: none;
        }
        .filter-btn {
            background: transparent; border: 1px solid var(--border-color);
            color: var(--text-muted); padding: 0.5rem 1.2rem; border-radius: 100px;
            white-space: nowrap; font-size: 0.9rem; transition: 0.3s;
        }
        .filter-btn.active { background: var(--text-primary); color: #000; border-color: #fff; }

        .masonry-grid { column-count: 2; column-gap: 10px; }
        .masonry-item { break-inside: avoid; margin-bottom: 10px; border-radius: 8px; overflow: hidden; }
        .masonry-item img { width: 100%; display: block; transition: filter 0.3s; }

        .marquee-wrap { overflow: hidden; white-space: nowrap; mask-image: linear-gradient(to right, transparent, black 10%, black 90%, transparent); }
        .marquee-content { display: inline-flex; animation: scroll 15s linear infinite; }
        .sponsor-logo { height: 40px; margin: 0 2rem; opacity: 0.5; filter: grayscale(1); }
        @keyframes scroll { from { transform: translateX(0); } to { transform: translateX(-50%); } }

        .about-text { font-size: 1.1rem; line-height: 1.6; color: #ddd; margin-bottom: 1.5rem; }
        .stat-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; margin-top: 2rem; }
        .stat-box { background: rgba(255,255,255,0.03); padding: 1rem; border-radius: 8px; border-left: 2px solid var(--accent-end); }
        .stat-num { font-size: 1.5rem; font-weight: 800; display: block; }

        #modal {
            position: fixed; inset: 0; z-index: 9999;
            background: rgba(0,0,0,0.9); backdrop-filter: blur(5px);
            opacity: 0; pointer-events: none; transition: 0.3s;
            display: flex; align-items: flex-end;
        }
        #modal.active { opacity: 1; pointer-events: all; }
        .sheet {
            background: #111; width: 100%; max-width: 420px; margin: 0 auto;
            border-radius: 24px 24px 0 0; border: 1px solid var(--border-color);
            transform: translateY(100%); transition: transform 0.4s cubic-bezier(0.19, 1, 0.22, 1);
            max-height: 90vh; overflow-y: auto;
        }
        #modal.active .sheet { transform: translateY(0); }
        .sheet-img { width: 100%; height: 200px; object-fit: cover; }
        .sheet-body { padding: 2rem; }

        #schedule { background: rgba(255,255,255,0.02); }
        .schedule-toggle {
            display: flex; justify-content: center; background: rgba(0,0,0,0.2);
            border: 1px solid var(--border-color); border-radius: 12px;
            padding: 6px; max-width: 250px; margin: 0 auto 2.5rem auto;
        }
        .day-btn {
            flex: 1; padding: 0.7rem 0; background: transparent; border: none;
            color: var(--text-muted); font-size: 0.9rem; font-weight: 700;
            border-radius: 8px; transition: all 0.3s; cursor: pointer;
        }
        .day-btn.active {
            background: var(--accent-end); color: var(--text-primary);
            box-shadow: 0 4px 15px -2px var(--accent-glow); transform: translateY(-2px);
        }
        #timeline { position: relative; padding: 1rem 0 0 0; margin-left: 4.5rem; border-left: 2px solid var(--border-color); }
        .timeline-item { position: relative; padding: 0 0 2.5rem 1.75rem; }
        .timeline-item::before {
            content: ''; position: absolute; left: -10px; top: 5px; width: 18px; height: 18px;
            border-radius: 50%; background: var(--bg-color); border: 3px solid var(--border-color); transition: all 0.3s;
        }
        .timeline-item:hover::before { border-color: var(--accent-end); transform: scale(1.1); }
        .timeline-item h4 { font-size: 1.2rem; font-weight: 600; line-height: 1.2; margin-bottom: 0.25rem; color: var(--text-primary); }
        .timeline-item .time { position: absolute; left: -5.5rem; top: 2px; font-family: var(--font-mono); font-size: 0.9rem; font-weight: 700; color: var(--text-muted); }
        .timeline-item .timeline-cat { font-size: 0.8rem; font-weight: 600; color: var(--accent-end); }

    </style>
</head>
<body>

    <div id="app">
        <header>
            <div class="hero-collage">
                <img src="https://images.unsplash.com/photo-1550751827-4bd374c3f58b?w=500&q=60" class="collage-img">
                <img src="https://images.unsplash.com/photo-1518770660439-4636190af475?w=500&q=60" class="collage-img">
                <img src="https://images.unsplash.com/photo-1531297461136-82lw3f2109c8?w=500&q=60" class="collage-img">
                <img src="https://images.unsplash.com/photo-1451187580459-43490279c0fa?w=500&q=60" class="collage-img">
                <img src="https://images.unsplash.com/photo-1526374965328-7f61d4dc18c5?w=500&q=60" class="collage-img">
                <img src="https://images.unsplash.com/photo-1504384308090-c54be3855833?w=500&q=60" class="collage-img">
            </div>

            <div class="hero-overlay"></div>
            <div class="hero-grain"></div>

            <div class="police-tape">
                <div class="tape-text">
                    SRISHTI 2.6 // DO NOT CROSS // FUTURE LOADING // SRISHTI 2.6 // DO NOT CROSS // FUTURE LOADING // SRISHTI 2.6
                </div>
            </div>

            <!-- <div class="police-tape large">
                <div class="tape-text">
                    SRISHTI 2.6 // LARGE TAPE // DO NOT CROSS // FUTURE LOADING // SRISHTI 2.6 // LARGE TAPE // DO NOT CROSS
                </div>
            </div>
            <div class="police-tape right-slanted">
                <div class="tape-text">
                    SRISHTI 2.6 // RIGHT SLANTED // DO NOT CROSS // FUTURE LOADING // SRISHTI 2.6
                </div>
            </div>
            <div class="police-tape small reverse">
                <div class="tape-text">
                    SRISHTI 2.6 // SMALL REVERSE // DO NOT CROSS // FUTURE LOADING // SRISHTI 2.6 // SMALL REVERSE
                </div>
            </div> -->

            <div class="sparkle-container" id="sparkles"></div>

            <div class="hero-content">
                <div class="logo-wrap">
                    <img src="logo.png" alt="Srishti Logo" class="hero-logo">
                </div>
                <h1 class="hero-title">
                    <span style="animation-delay: 0.1s">SRISHTI</span>
                    <span class="gradient-text" style="animation-delay: 0.2s">2.6</span>
                </h1>
                <p class="hero-subtitle">Techno Cultural Fest</p>

                <div class="cta-box">
                    <div class="mono" style="display: flex; justify-content: space-between; margin-bottom: 0.5rem;">
                        <span>JAN 20-21</span>
                        <div id="countdown"></div>
                    </div>
                    <a href="#" class="btn-primary">Initialize Registration</a>
                </div>
            </div>
        </header>

        <section style="text-align: center; border: none;">
            <p class="about-text" style="font-size: 1.4rem; font-weight: 600;">
                "Code breaks. Logic holds. <br>
                <span class="gradient-text">We build the future.</span>"
            </p>
        </section>

        <section id="events">
            <h2 style="margin-bottom: 1rem;">Explore Events</h2>
            <div class="filter-scroller">
                <button class="filter-btn active" onclick="filterEvents('all', this)">All Nodes</button>
                <button class="filter-btn" onclick="filterEvents('technical', this)">Technical</button>
                <button class="filter-btn" onclick="filterEvents('cultural', this)">Cultural</button>
                <button class="filter-btn" onclick="filterEvents('games', this)">eSports</button>
                <button class="filter-btn" onclick="filterEvents('workshop', this)">Workshops</button>
            </div>
            <div id="event-list"></div>
        </section>

        <section id="schedule">
            <h2 style="margin-bottom: 1.5rem;">Schedule</h2>
            <div class="schedule-toggle">
                <button class="day-btn active" onclick="switchDay(1)">Day 1</button>
                <button class="day-btn" onclick="switchDay(2)">Day 2</button>
            </div>
            
            <div id="timeline"></div>
        </section>

        <section>
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.5rem;">
                <h2>Glimpses</h2>
                <a href="#" class="mono" style="color: var(--accent-end)">View Gallery →</a>
            </div>
            <div class="masonry-grid">
                <div class="masonry-item"><img src="assets/glimpses/glimpse_1.png"></div>
                <div class="masonry-item"><img src="assets/glimpses/glimpse_3.png"></div>
                <div class="masonry-item"><img src="assets/glimpses/glimpse_2.png"></div>
                <div class="masonry-item"><img src="assets/glimpses/glimpse_5.png"></div>
                <div class="masonry-item"><img src="assets/glimpses/glimpse_4.png"></div>
            </div>
        </section>
        
        <section>
            <h2>About Srishti</h2>
            <div class="about-text" style="margin-top: 1rem;">
                <p>SRISHTI is the annual techno-cultural assembly of the Computer Science Department. We bridge the gap between binary logic and creative expression.</p>
            </div>
            <div class="stat-grid">
                <div class="stat-box"><span class="stat-num">25+</span><span class="mono">EVENTS</span></div>
                <div class="stat-box"><span class="stat-num">₹50K</span><span class="mono">PRIZES</span></div>
                <div class="stat-box"><span class="stat-num">2K+</span><span class="mono">FOOTFALL</span></div>
                <div class="stat-box"><span class="stat-num">48H</span><span class="mono">NON-STOP</span></div>
            </div>
        </section>
        
        <center><h2 class="gradient-text">SPONSORS</h2></center><br>
        <section style="padding: 2rem 0; background: rgba(255,255,255,0.02);">
            <div class="marquee-wrap">
                <div class="marquee-content">
                    <img src="assets/sponsors/sponser_1.png" class="sponsor-logo">
                    <img src="assets/sponsors/sponser_2.png" class="sponsor-logo">
                    <img src="assets/sponsors/sponser_3.png" class="sponsor-logo">
                    <img src="assets/sponsors/sponser_4.png" class="sponsor-logo">
                    <img src="assets/sponsors/sponser_5.png" class="sponsor-logo">
                    <img src="assets/sponsors/sponser_6.png" class="sponsor-logo">
                </div>
            </div>
        </section>

        <section>
            <h2 style="margin-bottom: 1.5rem;">Contact</h2>
            <div style="display: grid; gap: 1rem;">
                <div><span class="mono">GENERAL ENQUIRY</span><p>+91 98765 43210</p></div>
                <div><span class="mono">EMAIL</span><p>contact@srishti26.com</p></div>
                <div><span class="mono">VENUE</span><p>CS Department Block, Main Campus</p></div>
            </div>
        </section>

        <footer style="padding: 4rem 1.5rem; text-align: center; border-top: 1px solid var(--border-color);">
            <p class="mono" style="margin-bottom: 0.5rem">Dept. of Computer Science</p>
            <p style="color: #666; font-size: 0.8rem;">© 2026 SRISHTI 2.6</p>
        </footer>
    </div>

    <div id="modal" onclick="closeModal(event)">
        <div class="sheet">
            <img id="modal-img" src="" class="sheet-img">
            <div class="sheet-body">
                <span id="modal-cat" class="tag"></span>
                <h2 id="modal-title" style="font-size: 1.8rem; margin: 0.5rem 0;"></h2>
                <p id="modal-desc" class="about-text" style="font-size: 0.95rem;"></p>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; margin-top: 1.5rem;">
                    <div><span class="mono">FEE</span><p id="modal-fee" style="font-weight: bold;">--</p></div>
                    <div><span class="mono">PRIZE</span><p id="modal-prize" style="font-weight: bold; color: var(--accent-end);">--</p></div>
                </div>
                <center><a href="#" class="btn-primary" style="margin-top: 2rem;">Confirm Registration</a></center>
            </div>
        </div>
    </div>

    <script>
        // --- SPARKLE GENERATOR (NEW) ---
        function createSparkles() {
            const container = document.getElementById('sparkles');
            const count = 25; // Number of stars

            for (let i = 0; i < count; i++) {
                const sparkle = document.createElement('div');
                sparkle.classList.add('sparkle');
                
                // Random position
                const x = Math.random() * 100;
                const y = Math.random() * 100;
                
                // Random size
                const size = Math.random() * 3 + 1; // 1px to 4px
                
                // Random animation delay
                const delay = Math.random() * 2;
                const duration = Math.random() * 2 + 1; // 1s to 3s

                sparkle.style.left = x + '%';
                sparkle.style.top = y + '%';
                sparkle.style.width = size + 'px';
                sparkle.style.height = size + 'px';
                sparkle.style.animationDelay = delay + 's';
                sparkle.style.setProperty('--duration', duration + 's');
                
                container.appendChild(sparkle);
            }
        }

        // --- DATA STORE ---
        let eventsData = [];
        let schedule = {};

        // --- ASYNC DATA FETCHING ---
        async function fetchData() {
            try {
                // Initialize visual effects immediately
                createSparkles();

                // Fetch both data sources in parallel
                const [eventsResponse, scheduleResponse] = await Promise.all([
                    fetch("data/events.json"),
                    fetch("data/schedule.json")
                ]);

                if (!eventsResponse.ok || !scheduleResponse.ok) {
                    throw new Error(`HTTP error!`);
                }

                eventsData = await eventsResponse.json();
                schedule = await scheduleResponse.json();
                
                renderEvents('all');
                switchDay(1); 
            } catch (error) {
                console.error("Failed to fetch initial data:", error);
                document.getElementById('event-list').innerHTML = `<p class="mono" style="color: var(--text-muted); padding: 2rem 0;">Could not load event data.</p>`;
                document.getElementById('timeline').innerHTML = `<p class="mono" style="color: var(--text-muted); padding: 2rem 0;">Could not load schedule.</p>`;
            }
        }

        // --- SCHEDULE LOGIC ---
        function renderSchedule(day) {
            const container = document.getElementById('timeline');
            container.innerHTML = '';
            
            if (!schedule || !schedule[day] || schedule[day].length === 0) {
                container.innerHTML = `<div class="timeline-item"><p class="mono">No schedule available.</p></div>`;
                return;
            }

            schedule[day].forEach(s => {
                container.innerHTML += `
                    <div class="timeline-item">
                        <span class="time">${s.time}</span>
                        <h4>${s.name}</h4>
                        <span class="timeline-cat mono">${s.cat}</span>
                    </div>
                `;
            });
        }

        function switchDay(day) {
            document.querySelectorAll('.day-btn').forEach((btn, i) => {
                btn.classList.toggle('active', i + 1 === day);
            });
            renderSchedule(day);
        }

        // --- RENDER LOGIC ---
        function renderEvents(filter) {
            const list = document.getElementById('event-list');
            list.innerHTML = '';
            
            const filtered = filter === 'all' 
                ? eventsData 
                : eventsData.filter(e => e.category.toLowerCase() === filter);

            if (!filtered || filtered.length === 0) {
                 list.innerHTML = filter === 'all' 
                    ? `<p class="mono" style="color: var(--text-muted);">Loading events...</p>`
                    : `<p class="mono" style="color: var(--text-muted);">No events in this category.</p>`;
                return;
            }
            
            filtered.forEach(e => {
                const card = document.createElement('div');
                card.className = 'event-card';
                card.onclick = () => openModal(e);
                card.innerHTML = `
                    <img src="${e.image}" class="card-img" alt="${e.title}">
                    <div class="card-body">
                        <span class="tag">${e.category}</span>
                        <h3>${e.title}</h3>
                        <p class="mono" style="margin-top: 0.5rem; opacity: 0.7;">${e.fee} • Win ${e.prize}</p>
                    </div>
                `;
                list.appendChild(card);
            });
        }

        function filterEvents(cat, btn) {
            document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
            btn.classList.add('active');
            renderEvents(cat);
        }

        // --- MODAL LOGIC ---
        const modal = document.getElementById('modal');
        function openModal(e) {
            document.getElementById('modal-img').src = e.image;
            document.getElementById('modal-cat').innerText = e.category;
            document.getElementById('modal-title').innerText = e.title;
            document.getElementById('modal-desc').innerText = e.description;
            document.getElementById('modal-fee').innerText = e.fee;
            document.getElementById('modal-prize').innerText = e.prize;
            modal.classList.add('active');
        }
        function closeModal(e) {
            if (e.target.id === 'modal') modal.classList.remove('active');
        }

        // --- COUNTDOWN TIMER ---
        const dest = new Date("Jan 20, 2026 09:00:00").getTime();
        const countdownEl = document.getElementById('countdown');
        const countdownInterval = setInterval(() => {
            const now = new Date().getTime();
            const diff = dest - now;
            if (diff <= 0) {
                countdownEl.innerHTML = `<span class="segment" style="padding: 10px 20px;"><span class="digits">LIVE</span></span>`;
                clearInterval(countdownInterval);
                return;
            }
            const d = Math.floor(diff / (1000 * 60 * 60 * 24));
            const h = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const m = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
            const s = Math.floor((diff % (1000 * 60)) / 1000);
            countdownEl.innerHTML = `
                <span class="segment"><span class="digits">${String(d).padStart(2, '0')}</span><span class="unit">d</span></span>
                <span class="segment"><span class="digits">${String(h).padStart(2, '0')}</span><span class="unit">h</span></span>
                <span class="segment"><span class="digits">${String(m).padStart(2, '0')}</span><span class="unit">m</span></span>
                <span class="segment"><span class="digits">${String(s).padStart(2, '0')}</span><span class="unit">s</span></span>
            `;
        }, 1000);

        document.addEventListener('DOMContentLoaded', fetchData);
    </script>
</body>
</html>